<UserControl x:Class="LLWallPaper.App.Controls.ImagePreview"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:utils="clr-namespace:LLWallPaper.App.Utils">
    <UserControl.Resources>
        <utils:ImagePathToImageSourceConverter x:Key="ImagePathConverter"/>
    </UserControl.Resources>

    <Grid>
        <Viewbox Stretch="Uniform" StretchDirection="DownOnly">
            <Grid Width="1728" Height="1120">
                <Image x:Name="PreviewImage"
                       Stretch="Uniform"
                       Source="{Binding ImagePath, RelativeSource={RelativeSource AncestorType=UserControl}, Converter={StaticResource ImagePathConverter}}"/>
            </Grid>
        </Viewbox>
        <TextBlock Text="No image"
                   Foreground="#888888"
                   HorizontalAlignment="Center"
                   VerticalAlignment="Center">
            <TextBlock.Style>
                <Style TargetType="TextBlock">
                    <Setter Property="Visibility" Value="Collapsed"/>
                    <Style.Triggers>
                        <DataTrigger Binding="{Binding ElementName=PreviewImage, Path=Source}" Value="{x:Null}">
                            <Setter Property="Visibility" Value="Visible"/>
                        </DataTrigger>
                    </Style.Triggers>
                </Style>
            </TextBlock.Style>
        </TextBlock>
    </Grid>
</UserControl>
